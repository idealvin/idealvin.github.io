<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>git 简记 - Alvin&#39;s blog</title>
    <meta property="og:title" content="git 简记 - Alvin&#39;s blog">
    

    
    <meta property="keywords" content ="git,ssh">
    

    <meta name="twitter:card" content="summary">
    
      
    

    
      
      <meta property="og:description" content="git config --global user.name &amp;#34;your name&amp;#34; git config --global user.email &amp;#34;your mail&amp;#34; git config --global push.default simple git config --global core.editor vim git config --global &amp;hellip;">
      
    

    
    

    
    <link rel="icon" href="/favicon.ico">
    
<link href='/css/code.css' rel='stylesheet' type='text/css' />


    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/custom.css" />    
    
  </head>

  
  <body class="coding">
    <header class="masthead">
      <h1><a href="/" style="border: none;"><img src="/images/logo.jpg" alt="Alvin Yih"></a></h1>



      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/">主页</a></li>
  
  <li><a href="/about/">关于</a></li>
  
  <li><a href="/coding/">编程</a></li>
  
  <li><a href="/essay/">随笔</a></li>
  
  <li><a href="/donate/">捐赠</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      <h1>git 简记</h1>

<h3>Alvin
  /  2018-08-17</h3>
<hr>
      </header>




<h2 id="git-配置">git 配置</h2>
<ul>
<li>基本</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git config --global user.name  <span style="color:#e6db74">&#34;your name&#34;</span>
git config --global user.email <span style="color:#e6db74">&#34;your mail&#34;</span>
git config --global push.default simple
git config --global core.editor vim
git config --global core.autocrlf false
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.ls <span style="color:#e6db74">&#34;log --oneline&#34;</span>
git config --global alias.br branch
git config --global merge.tool vimdiff
</code></pre></div><ul>
<li>global ignore</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git config --global core.excludesfile ~/.gitignore_global
</code></pre></div><p>文件 ~/.gitignore_global 内容像下面这样：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">build
.*
*.o
*.exe
*.dblite
*.pyc
*.idea
</code></pre></div><ul>
<li>ssh key</li>
</ul>
<p>本机生成 ssh key:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e"># -f 指定文件名   -P 指定密码</span>
ssh-keygen -t rsa -f ~/.ssh/xx -P <span style="color:#e6db74">&#39;&#39;</span>  <span style="color:#75715e"># 生成xx与xx.pub</span>
ssh-keygen -t rsa -P <span style="color:#e6db74">&#39;&#39;</span>   <span style="color:#75715e"># 遇提示直接回车，默认在 ~/.ssh 下生成 id_rsa 与 id_rsa.pub</span>
ssh-add ~/.ssh/xx
</code></pre></div><h2 id="git-常用命令">git 常用命令</h2>
<ul>
<li>基本</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git clone git@github.com:yourname/xx.git      <span style="color:#75715e"># clone by ssh</span>
git clone https://github.com/yourname/xx.git  <span style="color:#75715e"># clone by https</span>
git pull origin master                        <span style="color:#75715e"># 从远端拉取master分支并merge到本地</span>
git commit -am <span style="color:#e6db74">&#34;xxx&#34;</span> files                    <span style="color:#75715e"># 提交更改记录到本地</span>
git push origin master                        <span style="color:#75715e"># 本地更改推送到远端master分支</span>
</code></pre></div><ul>
<li>初始化本地仓库并提交到github</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git init
git remote add origin git@github.com:yourname/xx.git
git add .
git commit -m <span style="color:#e6db74">&#39;xxx&#39;</span>
git push origin master
</code></pre></div><ul>
<li>查看提交历史</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git log        <span style="color:#75715e"># 列出全部提交历史</span>
git log -3     <span style="color:#75715e"># 列出最近的 3 次更新</span>
git log -p -2  <span style="color:#75715e"># -p 显示每次提交的内容差异</span>
</code></pre></div><ul>
<li>撤销本地 commit 信息</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e"># --soft 仅撤销 commit 信息，不会撤销文件的修改</span>
git reset --soft 83518e53f8366f0126cf7a3a6fb7460d4e9d2b7f
</code></pre></div><ul>
<li>回退到指定版本</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git reset --hard 83518e53f8366f0126cf7a3a6fb7460d4e9d2b7f
git push -f
</code></pre></div><ul>
<li>分支操作</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git branch                         <span style="color:#75715e"># 列出本地分支</span>
git branch -r                      <span style="color:#75715e"># 列出远程分支</span>
git branch -a                      <span style="color:#75715e"># 列出全部分支</span>

git branch -d name                 <span style="color:#75715e"># 删除本地分支</span>
git branch -r -d origin/name       <span style="color:#75715e"># 删除本地的远程分支</span>
git push origin -d name            <span style="color:#75715e"># 删除远程分支</span>

git checkout -b new origin/xxx     <span style="color:#75715e"># 新建并切换到本地分支</span>
git checkout new                   <span style="color:#75715e"># 切换到本地分支 new</span>

git branch -m oldname newname      <span style="color:#75715e"># 重命名本地分支</span>
git push origin newname            <span style="color:#75715e"># 重命名后的分支推送到远程</span>
git push --delete origin oldname   <span style="color:#75715e"># 删除远程旧分支</span>
</code></pre></div><ul>
<li>tag</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git tag                          <span style="color:#75715e"># 列出所有tag</span>
git tag -l <span style="color:#e6db74">&#34;v1.*&#34;</span>                <span style="color:#75715e"># 列出 v1. 开头 的 tag</span>

git tag v1.0                     <span style="color:#75715e"># 新建 tag</span>
git tag -a v1.0 -m <span style="color:#e6db74">&#34;notes&#34;</span>       <span style="color:#75715e"># 带备注的 tag</span>

git push origin --tags           <span style="color:#75715e"># 推送本地所有 tag</span>
git push origin v1.0             <span style="color:#75715e"># 推送本地 tag</span>

git tag -d v1.0                  <span style="color:#75715e"># 删除本地 tag</span>
git push origin :refs/tags/v1.0  <span style="color:#75715e"># 删除远程 tag</span>
</code></pre></div>

  <footer>
  



<nav class="post-nav">
  <ul>
     
    <li>
      <span class="post-nav-prev">&rtrif; 上一篇 &emsp;</span>
      <a href="/coding/2018/08/autohotkey/">用 Autohotkey 保持窗口在最前</a>
    </li>
    
    
    <li>
      <span class="post-nav-next">&rtrif; 下一篇 &emsp;</span>
      <a href="/coding/2018/08/docker/">docker 简记</a>
    </li>
    
  </ul>
</nav>



<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.6.2/gitalk.min.css">
<script src="//cdn.bootcss.com/gitalk/1.6.2/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '78371628e00f43aff18e',
    clientSecret: '6905d0b807b7008ea04b420bb9fd9a7f390ec400',
    repo: 'gitalk',
    owner: 'idealvin',
    admin: ['idealvin'],
    id: location.pathname,
    language: 'zh-CN',
    distractionFreeMode: false
  })
  
  gitalk.render('gitalk-container');
</script>



  



<script src="//cdn.bootcss.com/highlight.js/10.1.2/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/10.1.2/languages/cpp.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/10.1.2/languages/bash.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">©2018-2020 <a href="/">Alvin Yih</a> | <a href="https://github.com/idealvin">Github</a></div>
  
  </footer>
  
   <div class="cnzz">
<script type="text/javascript">
  document.write(unescape("%3Cspan id='cnzz_stat_icon_1279117347'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1279117347%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));
</script>
</div> 
  </article>
  
  </body>
</html>

