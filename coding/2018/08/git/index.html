<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>git 简记 - Alvin&#39;s blog</title>
    <meta property="og:title" content="git 简记 - Alvin&#39;s blog">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="git config --global user.name &amp;quot;your name&amp;quot; git config --global user.email &amp;quot;your mail&amp;quot; git config --global push.default simple git config --global core.editor vim git config --global &amp;hellip;">
      <meta property="og:description" content="git config --global user.name &amp;quot;your name&amp;quot; git config --global user.email &amp;quot;your mail&amp;quot; git config --global push.default simple git config --global core.editor vim git config --global &amp;hellip;">
      
    

    
    

    
    <meta property="keywords" content ="git,ssh">
    

    
    <link rel="icon" href="/favicon.ico">
    
<link href='/css/code.css' rel='stylesheet' type='text/css' />


    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/custom.css" />    
    
  </head>

  
  <body class="coding">
    <header class="masthead">
      <h1><a href="/" style="border: none;"><img src="/images/logo.jpg" alt="Alvin Yih"></a></h1>



      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li>
    <a href="/">主页</a>
  </li>
  
  <li>
    <a href="/about/">关于</a>
  </li>
  
  <li class="active">
    <a href="/coding/">编程</a>
  </li>
  
  <li>
    <a href="/essay/">随笔</a>
  </li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      <h1>git 简记</h1>

<h3>Alvin
  /  2018-08-17</h3>
<hr>
      </header>





<h2 id="git-配置">git 配置</h2>

<ul>
<li>基本</li>
</ul>

<pre><code class="language-sh">git config --global user.name  &quot;your name&quot;
git config --global user.email &quot;your mail&quot;
git config --global push.default simple
git config --global core.editor vim
git config --global core.autocrlf false
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.ls &quot;log --oneline&quot;
git config --global alias.br branch
git config --global merge.tool vimdiff
</code></pre>

<ul>
<li>global ignore</li>
</ul>

<pre><code class="language-sh">git config --global core.excludesfile ~/.gitignore_global
</code></pre>

<p>文件 ~/.gitignore_global 内容像下面这样：</p>

<pre><code class="language-sh">build
.*
*.o
*.exe
*.dblite
*.pyc
*.idea
</code></pre>

<ul>
<li>ssh key</li>
</ul>

<p>本机生成 ssh key:</p>

<pre><code class="language-sh"># -f 指定文件名   -P 指定密码
ssh-keygen -t rsa -f ~/.ssh/xx -P ''  # 生成xx与xx.pub
ssh-keygen -t rsa -P ''   # 遇提示直接回车，默认在 ~/.ssh 下生成 id_rsa 与 id_rsa.pub
ssh-add ~/.ssh/xx
</code></pre>

<h2 id="git-常用命令">git 常用命令</h2>

<ul>
<li>基本</li>
</ul>

<pre><code class="language-sh">git clone git@github.com:yourname/xx.git      # clone by ssh
git clone https://github.com/yourname/xx.git  # clone by https
git pull origin master                        # 从远端拉取master分支并merge到本地
git commit -am &quot;xxx&quot; files                    # 提交更改记录到本地
git push origin master                        # 本地更改推送到远端master分支
</code></pre>

<ul>
<li>初始化本地仓库并提交到github</li>
</ul>

<pre><code class="language-sh">git init
git remote add origin git@github.com:yourname/xx.git
git add .
git commit -m 'xxx'
git push origin master
</code></pre>

<ul>
<li>查看提交历史</li>
</ul>

<pre><code class="language-sh">git log        # 列出全部提交历史
git log -3     # 列出最近的 3 次更新
git log -p -2  # -p 显示每次提交的内容差异
</code></pre>

<ul>
<li>撤销本地 commit 信息</li>
</ul>

<pre><code class="language-sh"># --soft 仅撤销 commit 信息，不会撤销文件的修改
git reset --soft 83518e53f8366f0126cf7a3a6fb7460d4e9d2b7f
</code></pre>

<ul>
<li>回退到指定版本</li>
</ul>

<pre><code class="language-sh">git reset --hard 83518e53f8366f0126cf7a3a6fb7460d4e9d2b7f
git push -f
</code></pre>

<ul>
<li>分支操作</li>
</ul>

<pre><code class="language-sh">git branch                         # 列出本地分支
git branch -r                      # 列出远程分支
git branch -a                      # 列出全部分支

git branch -d name                 # 删除本地分支
git branch -r -d origin/name       # 删除本地的远程分支
git push origin -d name            # 删除远程分支

git checkout -b new origin/xxx     # 新建并切换到本地分支
git checkout new                   # 切换到本地分支 new

git branch -m oldname newname      # 重命名本地分支
git push origin newname            # 重命名后的分支推送到远程
git push --delete origin oldname   # 删除远程旧分支
</code></pre>

<ul>
<li>tag</li>
</ul>

<pre><code class="language-sh">git tag                          # 列出所有tag
git tag -l &quot;v1.*&quot;                # 列出 v1. 开头 的 tag

git tag v1.0                     # 新建 tag
git tag -a v1.0 -m &quot;notes&quot;       # 带备注的 tag

git push origin --tags           # 推送本地所有 tag
git push origin v1.0             # 推送本地 tag

git tag -d v1.0                  # 删除本地 tag
git push origin :refs/tags/v1.0  # 删除远程 tag
</code></pre>


  <footer>
  



<nav class="post-nav">
  <ul>
     
    <li>
      <span class="date">&rtrif; 2018/08/22&emsp;</span>
      <a href="/coding/2018/08/autohotkey/">用 Autohotkey 保持窗口在最前</a>
    </li>
    
    <li class="active">
      <span class="date">&rtrif; 2018/08/17&emsp;</span>
      <a href="/coding/2018/08/git/">git 简记</a>     
    </li>
    
    <li>
      <span class="date">&rtrif; 2018/08/13&emsp;</span>
      <a href="/coding/2018/08/docker/">docker 简记</a>
    </li>
    
  </ul>
</nav>

<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.6.2/gitalk.min.css">
<script src="//cdn.bootcss.com/gitalk/1.6.2/gitalk.min.js"></script>
<div id="gitalk-container"></div>     
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '78371628e00f43aff18e',
    clientSecret: '6905d0b807b7008ea04b420bb9fd9a7f390ec400',
    repo: 'gitalk',
    owner: 'idealvin',
    admin: ['idealvin'],
    id: location.pathname,
    language: 'zh-CN',
    distractionFreeMode: false
  })
  
  gitalk.render('gitalk-container');
</script>


  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/cpp.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/bash.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">&copy;2018-2020 <a href="/">Alvin Yih</a> | <a href="https://github.com/idealvin">Github</a></div>
  
  </footer>
  </article>
  
  
  </body>
</html>

