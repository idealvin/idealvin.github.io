<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>无处不在的 vim - Alvin&#39;s blog</title>
    <meta property="og:title" content="无处不在的 vim - Alvin&#39;s blog">
    

    
    <meta property="keywords" content ="vim,vim插件,编程,clion,vscode,ideavim,eclipse,vrapper,visual, studio,vsvim">
    

    <meta name="twitter:card" content="summary">
    
      
    

    
      
      <meta property="og:description" content="Vim 是个不错的文本编辑器，它最方便之处是，不用上下左右键就可以快速游走于文本之中。
[&amp;hellip;] vim 的配置文件一般是 home 目录下的 .vimrc，参考配置如下：
[&amp;hellip;] set nocompatible set fencs=utf-8,chinese,latin-1 &amp;#34;save file without permission&amp;#34; cmap w!! &amp;hellip;">
      
    

    
    

    
    <link rel="icon" href="/favicon.ico">
    
<link href='/css/code.css' rel='stylesheet' type='text/css' />


    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/custom.css" />    
    
  </head>

  
  <body class="coding">
    <header class="masthead">
      <h1><a href="/" style="border: none;"><img src="/images/logo.jpg" alt="Alvin Yih"></a></h1>



      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/">主页</a></li>
  
  <li><a href="/about/">关于</a></li>
  
  <li><a href="/coding/">编程</a></li>
  
  <li><a href="/essay/">随笔</a></li>
  
  <li><a href="/donate/">捐赠</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      <h1>无处不在的 vim</h1>

<h3>Alvin
  /  2018-09-09</h3>
<hr>
      </header>




<p><a href="https://www.vim.org/">Vim</a> 是个不错的文本编辑器，它最方便之处是，不用上下左右键就可以快速游走于文本之中。</p>
<h2 id="vim-配置">vim 配置</h2>
<p>vim 的配置文件一般是 home 目录下的 .vimrc，参考配置如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">set nocompatible
set fencs<span style="color:#f92672">=</span>utf-8,chinese,latin-1

<span style="color:#e6db74">&#34;save file without permission&#34;</span>
cmap w!! w !sudo tee % &gt; /dev/null &lt;CR&gt;

iab <span style="color:#75715e">#i #include</span>
iab <span style="color:#75715e">#d #define</span>
iab <span style="color:#75715e">#p #pragma</span>

inoremap jj &lt;Esc&gt;
inoremap &lt;F1&gt; &lt;Esc&gt;
nnoremap &lt;F1&gt; &lt;Esc&gt;
nnoremap ; :
nnoremap H ^
nnoremap L $

<span style="color:#e6db74">&#34;share clips with windows&#34;</span>
set clipboard<span style="color:#f92672">+=</span>unnamed

<span style="color:#e6db74">&#34;backspace and cursor keys wrap to previous/next line&#34;</span>
set backspace<span style="color:#f92672">=</span>indent,eol,start whichwrap<span style="color:#f92672">+=</span>&lt;,&gt;,<span style="color:#f92672">[</span>,<span style="color:#f92672">]</span>

set history<span style="color:#f92672">=</span><span style="color:#ae81ff">128</span>
set nobackup
setlocal noswapfile
set bufhidden<span style="color:#f92672">=</span>hide
set confirm

set number
set smartindent
set tabstop<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>
set shiftwidth<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>
<span style="color:#e6db74">&#34;set nofoldenable
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">set incsearch
</span><span style="color:#e6db74">set nohlsearch
</span><span style="color:#e6db74">&#34;</span>set ignorecase

set showcmd
set showmatch
set matchtime<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>          <span style="color:#e6db74">&#34;0.1s
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">set wildmenu             &#34;</span>auto complete <span style="color:#66d9ef">for</span> cmd
set ruler
<span style="color:#e6db74">&#34;set cmdheight=1
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">set scrolloff=3
</span><span style="color:#e6db74">set fillchars=vert:\ ,stl:\ ,stlnc:\
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">if has(&#39;mouse&#39;)
</span><span style="color:#e6db74">  set mouse=c
</span><span style="color:#e6db74">endif
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">set selection=exclusive
</span><span style="color:#e6db74">set selectmode=mouse,key
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">set report=0
</span><span style="color:#e6db74">set visualbell
</span><span style="color:#e6db74">set noerrorbells
</span><span style="color:#e6db74">set shortmess=atI
</span><span style="color:#e6db74">set vb t_vb=
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">filetype on              &#34;</span>detect file type
filetype indent on       <span style="color:#e6db74">&#34;indent for specific file types
</span><span style="color:#e6db74">syntax on
</span></code></pre></div><p>值得一提的是 <code>inoremap jj &lt;Esc&gt;</code>，在 insert 模式下，输入 <code>jj</code> 切换回 normal 模式。另外将 <code>F1</code> 也映射成了 <code>Esc</code>，因为这两个键靠得太近，经常误按 F1 跳出一个帮助页面。</p>
<h2 id="各种-ide-的-vim-插件">各种 IDE 的 vim 插件</h2>
<h3 id="eclipse--vrapper">Eclipse / Vrapper</h3>
<p><a href="https://www.eclipse.org/">Eclipse</a> 是用 java 开发的一个开源 IDE，有一款开源的 vim 插件 <a href="https://github.com/vrapper/vrapper/">Vrapper</a>，问题有点多，可能大部分是 Eclipse 本身的 Bug 导致的。</p>
<h3 id="clion--ideavim">CLion / Ideavim</h3>
<p><a href="https://www.jetbrains.com/">Jetbrains</a> 的 CLion，PyCharm，WebStorm，GoLand 等，体验都不错。此系列 IDE 有一个专用的 vim 插件 <a href="https://github.com/JetBrains/ideavim">ideavim</a>，可能是众多 vim 插件中最稳定的一个。参考配置 .ideavimrc 如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">set nocompatible
set nohlsearch
set incsearch
set visualbell
set noerrorbells

vnoremap &lt;Tab&gt; &gt;&lt;Esc&gt;gv
inoremap jj &lt;Esc&gt;
inoremap &lt;F1&gt; &lt;Esc&gt;
nnoremap &lt;F1&gt; &lt;Esc&gt;
nnoremap ; :
nnoremap H ^
nnoremap L $
</code></pre></div><p>另，CLion 依赖于 CMake，需要在代码根目录创建一个 CMakeLists.txt 文件，内容大致如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cmake_minimum_required<span style="color:#f92672">(</span>VERSION 3.8<span style="color:#f92672">)</span>
project<span style="color:#f92672">(</span>xxx<span style="color:#f92672">)</span>

set<span style="color:#f92672">(</span>CMAKE_CXX_STANDARD 11<span style="color:#f92672">)</span>

file<span style="color:#f92672">(</span>GLOB_RECURSE SOURCE_FILES
    *.h *.cc *.c *.cpp
<span style="color:#f92672">)</span>

include_directories<span style="color:#f92672">(</span>.<span style="color:#f92672">)</span>

add_library<span style="color:#f92672">(</span>xxx <span style="color:#e6db74">${</span>SOURCE_FILES<span style="color:#e6db74">}</span><span style="color:#f92672">)</span>
</code></pre></div><h3 id="visual-studio-code--vscodevim">Visual Studio Code / VsCodeVim</h3>
<p><a href="https://code.visualstudio.com/">Visual Studio Code</a> 写 markdown，非常流畅。</p>
<p>在 vscode 的 Extensions 栏搜索 <code>vim</code>，第一个出现的应该就是 VsCodeVim。经过几年的发展，目前已经比较稳定，体验比 ideavim 稍差。</p>
<p>可以在 vscode 的 User Settings 中配置 vim：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;editor.minimap.enabled&#34;</span>: false,
    <span style="color:#e6db74">&#34;vim.useCtrlKeys&#34;</span>: false,
    <span style="color:#e6db74">&#34;vim.overrideCopy&#34;</span>: false,
    <span style="color:#e6db74">&#34;vim.ignorecase&#34;</span>: false,
    <span style="color:#e6db74">&#34;vim.insertModeKeyBindings&#34;</span>: <span style="color:#f92672">[</span>
        <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;before&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;j&#34;</span>,<span style="color:#e6db74">&#34;j&#34;</span><span style="color:#f92672">]</span>,
            <span style="color:#e6db74">&#34;after&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;&lt;Esc&gt;&#34;</span><span style="color:#f92672">]</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">]</span>,
    <span style="color:#e6db74">&#34;vim.normalModeKeyBindingsNonRecursive&#34;</span>: <span style="color:#f92672">[</span>
        <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;before&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;;&#34;</span><span style="color:#f92672">]</span>,
            <span style="color:#e6db74">&#34;after&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">]</span>
        <span style="color:#f92672">}</span>,
        <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;before&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;H&#34;</span><span style="color:#f92672">]</span>,
            <span style="color:#e6db74">&#34;after&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;^&#34;</span><span style="color:#f92672">]</span>
        <span style="color:#f92672">}</span>,
        <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;before&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;L&#34;</span><span style="color:#f92672">]</span>,
            <span style="color:#e6db74">&#34;after&#34;</span>: <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;</span>$<span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">]</span>,
    <span style="color:#e6db74">&#34;workbench.colorTheme&#34;</span>: <span style="color:#e6db74">&#34;Monokai&#34;</span>,
<span style="color:#f92672">}</span>
</code></pre></div>

  <footer>
  



<nav class="post-nav">
  <ul>
     
    <li>
      <span class="post-nav-prev">&rtrif; 上一篇 &emsp;</span>
      <a href="/coding/2018/09/get-current-thread-id/">高效获取当前线程的 id</a>
    </li>
    
    
    <li>
      <span class="post-nav-next">&rtrif; 下一篇 &emsp;</span>
      <a href="/coding/2018/08/prime-number/">素数的一个判定定理</a>
    </li>
    
  </ul>
</nav>



<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.6.2/gitalk.min.css">
<script src="//cdn.bootcss.com/gitalk/1.6.2/gitalk.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '78371628e00f43aff18e',
    clientSecret: '6905d0b807b7008ea04b420bb9fd9a7f390ec400',
    repo: 'gitalk',
    owner: 'idealvin',
    admin: ['idealvin'],
    id: location.pathname,
    language: 'zh-CN',
    distractionFreeMode: false
  })
  
  gitalk.render('gitalk-container');
</script>



  



<script src="//cdn.bootcss.com/highlight.js/10.1.2/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/10.1.2/languages/cpp.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/10.1.2/languages/bash.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">©2018-2020 <a href="/">Alvin Yih</a> | <a href="https://github.com/idealvin">Github</a></div>
  
  </footer>
  
   <div class="cnzz">
<script type="text/javascript">
  document.write(unescape("%3Cspan id='cnzz_stat_icon_1279117347'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1279117347%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));
</script>
</div> 
  </article>
  
  </body>
</html>

